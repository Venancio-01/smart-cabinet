appId: com.electron.app
productName: smart-cabinet
directories:
  buildResources: build
  output: '../../release/smart-cabinet/${version}'
npmRebuild: false
asar: true
files:
  - dist
extraResources:
  - from: ./node_modules/@smart-cabinet/database/.env
    to: .env
  - from: ../../libs/face-lib
    to: public/libs/face-lib
  - from: ../../libs/crc-lib
    to: public/libs/crc-lib
  - from: ./renderer/public/background
    to: public/background
  - from: ../../scripts/install.sh
    to: ../../install/install.sh
  - from: ../../scripts/run.sh
    to: ../../install/run.sh
  - from: ../../template/smart-cabinet.desktop
    to: ../../install/smart-cabinet.desktop
  - from: ../../node_modules/.prisma/
    to: node_modules/.prisma
asarUnpack:
  - '**/*.{node,dll}'
linux:
  artifactName: '${productName}_${version}.${ext}'
  target:
    - target: deb
      arch: x64
    # - target: AppImage
    #   arch: x64
nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  deleteAppDataOnUninstall: false
