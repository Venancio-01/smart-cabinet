appId: com.electron.app
directories:
  buildResources: build
  output: "../../release/cabinet/${version}"
asar: true
files:
  - dist
extraResources:
  - from: ./node_modules/database/.env
    to: .env
  - from: ../../libs
    to: public/libs
  - from: ./renderer/public/background
    to: public/background
  - from: ../../scripts/install.sh
    to: ../../install/install.sh
  - from: ../../scripts/run.sh
    to: ../../install/run.sh
  - from: ../../template/smart-cabinet.desktop
    to: ../../install/smart-cabinet.desktop
  - from: ../../node_modules/.prisma/
    to: node_modules/.prisma
  # - "../../node_modules/.prisma/**/*"
  - "node_modules/database/**/*"
asarUnpack:
  - "**/*.{node,dll}"
win:
  artifactName: "${productName}_${version}.${ext}"
  target:
    - target: nsis
      arch: x64
linux:
  artifactName: "${productName}_${version}.${ext}"
  target:
    - target: deb
      arch: x64
    # - target: AppImage
    #   arch: x64
nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  deleteAppDataOnUninstall: false
npmRebuild: false
