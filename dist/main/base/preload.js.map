{"version":3,"sources":["../../../src/main/base/preload.ts"],"sourcesContent":["import { contextBridge, ipcRenderer } from 'electron/renderer'\nimport { services, makeChannelName } from '@/services'\nimport './loading'\n\nfunction createJsBridge() {\n  return services.reduce((acc, cur) => {\n    acc[cur.name] = {}\n    Object.keys(cur.fns).forEach(fnName => {\n      acc[cur.name][fnName] = (...args) => ipcRenderer.invoke(makeChannelName(cur.name, fnName), ...args)\n    })\n\n    return acc\n  }, {})\n}\n\nconst bridge = createJsBridge()\ncontextBridge.exposeInMainWorld('JSBridge', bridge)\n"],"names":["createJsBridge","services","reduce","acc","cur","name","Object","keys","fns","forEach","fnName","args","ipcRenderer","invoke","makeChannelName","bridge","contextBridge","exposeInMainWorld"],"mappings":";;;;0BAA2C;0BACD;QACnC;AAEP,SAASA;IACP,OAAOC,mBAASC,OAAO,CAACC,KAAKC;QAC3BD,GAAG,CAACC,IAAIC,KAAK,GAAG,CAAC;QACjBC,OAAOC,KAAKH,IAAII,KAAKC,QAAQC,CAAAA;YAC3BP,GAAG,CAACC,IAAIC,KAAK,CAACK,OAAO,GAAG,CAAC,GAAGC,OAASC,sBAAYC,OAAOC,IAAAA,2BAAgBV,IAAIC,MAAMK,YAAYC;QAChG;QAEA,OAAOR;IACT,GAAG,CAAC;AACN;AAEA,MAAMY,SAASf;AACfgB,wBAAcC,kBAAkB,YAAYF"}