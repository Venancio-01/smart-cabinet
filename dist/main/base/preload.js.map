{"version":3,"sources":["../../../src/main/base/preload.ts"],"sourcesContent":["import { contextBridge, ipcRenderer } from 'electron/renderer'\nimport { makeChannelName, services } from '@/services'\nimport './loading'\n\nfunction createJsBridge() {\n  return services.reduce((acc, cur) => {\n    acc[cur.name] = {}\n    Object.keys(cur.fns).forEach((fnName) => {\n      acc[cur.name][fnName] = (...args) => ipcRenderer.invoke(makeChannelName(cur.name, fnName), ...args)\n    })\n\n    return acc\n  }, {})\n}\n\nconst bridge = createJsBridge()\ncontextBridge.exposeInMainWorld('JSBridge', bridge)\n"],"names":["createJsBridge","services","reduce","acc","cur","name","Object","keys","fns","forEach","fnName","ipcRenderer","args","invoke","makeChannelName","bridge","contextBridge","exposeInMainWorld"],"mappings":";;;;wBAA2C;wBACD;QACnC;;;;;;;;;;;;;;;;;;;;;;;;;;AAEP,SAASA;IACP,OAAOC,mBAASC,OAAO,SAACC,KAAKC;QAC3BD,GAAG,CAACC,IAAIC,KAAK,GAAG,CAAC;QACjBC,OAAOC,KAAKH,IAAII,KAAKC,QAAQ,SAACC;gBACSC;YAArCR,GAAG,CAACC,IAAIC,KAAK,CAACK,OAAO,GAAG;iDAAIE;oBAAAA;;uBAASD,CAAAA,eAAAA,uBAAYE,OAAZF,MAAAA,cAAAA;oBAAmBG,IAAAA,2BAAgBV,IAAIC,MAAMK;iBAAiB,CAA9DC,OAAsD,qBAAGC;;QAChG;QAEA,OAAOT;IACT,GAAG,CAAC;AACN;AAEA,IAAMY,SAASf;AACfgB,wBAAcC,kBAAkB,YAAYF"}